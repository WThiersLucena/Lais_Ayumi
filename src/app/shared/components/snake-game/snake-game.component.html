<div class="snake-game">
  <div class="snake-game__header">
    <div class="snake-game__score">
      <span class="snake-game__score-label">Pontuação:</span>
      <span class="snake-game__score-value">{{ score }}</span>
    </div>
    <div class="snake-game__high-score">
      <span class="snake-game__high-score-label">Recorde:</span>
      <span class="snake-game__high-score-value">{{ highScore }}</span>
    </div>
  </div>

  <div class="snake-game__canvas-wrapper">
    <canvas 
      #gameCanvas
      class="snake-game__canvas"
      [width]="canvasWidth"
      [height]="canvasHeight"
    ></canvas>
    
    @if (gameOver) {
      <div class="snake-game__overlay">
        <div class="snake-game__game-over">
          <h3 class="snake-game__game-over-title">Game Over!</h3>
          <p class="snake-game__game-over-score">Pontuação: {{ score }}</p>
          <button 
            class="snake-game__restart-button"
            (click)="restartGame()"
            type="button"
          >
            Jogar Novamente
          </button>
        </div>
      </div>
    }
  </div>

  <!-- Controles Mobile -->
  <div class="snake-game__controls">
    <button 
      class="snake-game__control-button snake-game__control-button--up"
      (click)="handleSwipe('up')"
      aria-label="Mover para cima"
      type="button"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div class="snake-game__controls-horizontal">
      <button 
        class="snake-game__control-button snake-game__control-button--left"
        (click)="handleSwipe('left')"
        aria-label="Mover para esquerda"
        type="button"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button 
        class="snake-game__control-button snake-game__control-button--right"
        (click)="handleSwipe('right')"
        aria-label="Mover para direita"
        type="button"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 12H19M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <button 
      class="snake-game__control-button snake-game__control-button--down"
      (click)="handleSwipe('down')"
      aria-label="Mover para baixo"
      type="button"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 5V19M19 12L12 19L5 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>
</div>
